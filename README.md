# 🎵 Suno AI Prompt Studio v5 + Lyrics Studio

Suno AI v5の高度な機能を最大限に引き出す、次世代プロンプトエンジニアリング・スイート。音楽理論に基づいたデュアルプロンプト生成、AIによる楽曲の深層分析、そして歌詞制作に特化した専用スタジオを統合した、包括的な音楽制作支援ツールです。

## 🌟 主要機能

- **歌詞プロンプト・スタジオ**: アイデアの着想から完成まで、AIとの対話を通じて歌詞を創り上げる専用環境。テーマ提案、構造設計、そしてAI批評家とのスパーリング機能などを搭載。
- **個別設定モード**: コンセプト設計から構造化、詳細設定、プロンプト生成までをステップ・バイ・ステップで実行する、Suno v5対応のコアワークフロー。
- **ビジュアル生成ワークフロー**: 楽曲の物語に基づき、AIがビジュアルストーリーボードを作成。アートスタイルを選択し、各シーンのAIイメージを生成することで、音楽の世界を視覚化します。
- **一括生成モード**: 複数のアーティストプリセットに基づき、一度に多様なスタイルのプロンプトをバッチ生成。アイデアの幅を広げます。
- **生成履歴管理**: 作成したすべてのセッション（個別・一括）を保存、再読み込み、編集可能。創造の軌跡を管理します。
- **DeepThink & ジャンル適用**: AIが歌詞とニュアンスを深く分析し、より洗練されたバージョンを提案。ワンクリックでK-POPやDua Lipaなど、特定ジャンルのスタイルを適用可能。

## 🏗️ プロジェクト構成

### 📁 ディレクトリ構造

```
suno-ai-prompt-studio/
├── 📁 components/            # UIコンポーネント
│   └── 📁 lyrics_studio/    # 歌詞プロンプト・スタジオ専用コンポーネント
├── 📁 data/                 # プリセットデータ（アーティスト、ボーカルフロー等）
├── 📁 guides/               # AIの知識ベースとなる理論・ガイドライブラリ
│   └── 📁 genre/            # ジャンル特化理論（K-POP, EDM, Diva, Techno等）
├── 📁 services/             # ビジネスロジック・AI処理サービス
├── 📁 spec/                 # 技術仕様書
├── 📁 steps/                # 個別設定モードの各ステップコンポーネント
└── types.ts                 # TypeScript型定義
```

## 🧩 主要コンポーネント詳細

### 🎯 主要モードとワークフロー

| コンポーネント/モード | 役割 | 主な機能 |
|---|---|---|
| `LyricsPromptStudio.tsx` | **歌詞プロンプト・スタジオ** | 高度な指示プロンプトの構築、歌詞のAI生成、AI批評家との対話による反復的改善。 |
| `Step1_LyricsAndConcept.tsx` | **個別設定: コンセプト設計** | 歌詞入力、ジャンル・ムード定義、DeepThink、ジャンル適用、アーティストプリセット選択。 |
| `Step2_Structure.tsx` | **個別設定: 楽曲構造設計** | 歌詞のセクション分割と順序変更。 |
| `Step3_Details.tsx` | **個別設定: 詳細設計** | 各セクションの楽器、ボーカル、エネルギー、コード進行のAI生成と手動設定。 |
| `Step4_Generate.tsx` | **個別設定: プロンプト生成** | Suno v5向けデュアルプロンプト（Style/Lyrics）の最終生成、発音最適化、除外スタイル生成。 |
| `Step5_Visuals.tsx` | **個別設定: ビジュアル生成** | AIによるストーリーボード作成、アートスタイル生成・選択、シーン別画像生成。 |
| `BatchGeneration.tsx` | **一括生成モード** | 複数アーティストプリセットを選択し、プロンプトを一括生成。 |
| `HistoryList.tsx` | **生成履歴** | 保存されたセッションの表示、管理、再読み込み。 |


## 🧠 AI Services Layer (`services/`)

アプリケーションの頭脳として、Google Gemini APIを活用した多様なAIサービス群がバックグラウンドで動作します。

| サービス分類 | 主な機能 |
|---|---|
| **楽曲分析・生成** | コンセプト提案 (`generateConcept`), 楽曲構造化 (`generateStructure`), 音楽理論に基づくコード生成 (`generateChords`) |
| **歌詞・ニュアンス処理** | 深層分析と再構築 (`performDeepThink`), 特定ジャンルへの変換 (`genreTransformerService`), 発音最適化 (`optimizeLyrics`), 新規歌詞生成 (`generateNewLyrics`) |
| **ビジュアル生成** | 楽曲の物語に基づくストーリーボード作成 (`generateVisualStoryboard`), アートスタイル・シーン画像の生成 (`visualGenerator`) |
| **プロンプトエンジニアリング** | Style/Lyricsプロンプト生成 (`promptGenerator`), 除外スタイル提案 (`generateExcludeStyles`), プロンプトの圧縮・最適化 (`shortenData`, `shortenStylePrompt`) |
| **対話的改善** | 歌詞への批評生成 (`generateCritique`), 自然言語指示による歌詞修正 (`modifyLyrics`) |


## 📚 Knowledge Base (`guides/`)

AIの思考の基盤となる、膨大な音楽理論や作詞・作曲の知識を体系化したガイドライブラリ。これらをシステムプロンプトとして活用することで、高品質で専門的な出力を実現しています。

| ガイド分類 | 内容 |
|---|---|
| **普遍的理論** | 音楽理論 (`musicTheory.ts`), 作詞原理 (`songwritingPrinciples.ts`), プロンプト戦略 (`promptEngineering.ts`), ボーカルフロー (`vocalFlowStyles.ts`) |
| **ジャンル特化理論** | K-POP, EDM, Techno, Diva (Adele/Amy Winehouse), Tiësto, Dua Lipa, Disclosure, The xx, Tame Impala 等、各ジャンルのヒット法則を詳細に分析。 |
| **高度技術** | 除外スタイル理論 (`excludeStylesTheory.ts`), 冒頭フック技術 (`grabAttentionTechniques.ts`), 高度音響制御 (`advancedTechniques.ts`) |


## 🚀 セットアップ・実行

### 📋 前提条件
- 最新のWebブラウザ
- Google Gemini API キー（環境変数として設定されている必要があります）

### 🔧 実行
アプリケーションはWebベースで動作し、特別なインストールは不要です。ブラウザでアクセスするだけで、すべての機能を利用できます。

## 🎯 使用方法

### ✍️ 歌詞プロンプト・スタジオ ワークフロー
1. **基本コンセプト設定**: 楽曲のニュアンス、ペルソナ、ジャンル、ターゲット層などを設定。
2. **テーマ設定（任意）**: AIにテーマを提案させるか、手動で詳細なテーマを構築。
3. **詳細設定（任意）**: 楽曲構成、フック、感情の起伏などを精密に設計。
4. **AIで歌詞を生成**: 構築された指示プロンプトに基づき、AIが歌詞と制作ノートを生成。
5. **反復的改善**:
    - **AIスパアリング**: 批評家や詩人など、異なるペルソナのAIに歌詞を批評させる。
    - **自然言語で修正**: 「サビをもっと情熱的に」といった自然な言葉で、AIに歌詞を修正させる。

### 🎶 個別設定モード ワークフロー
1. **Step 1: 歌詞とコンセプト**: 歌詞を入力し、楽曲全体のコンセプト（ジャンル、ムード、BPM等）を定義。DeepThinkやジャンル適用機能でアイデアを深化。
2. **Step 2: 構造化**: 歌詞を[Verse], [Chorus]などのセクションに分割し、楽曲の構成を組み立てる。
3. **Step 3: 詳細設定**: 各セクションに、使用楽器、ボーカルスタイル、エネルギーレベル等を設定。AIによるコード進行生成も可能。
4. **Step 4: プロンプト生成**: Suno v5向けのStyleプロンプトとLyricsプロンプトを最終生成。発音最適化や除外スタイルもここで適用。
5. **Step 5: ビジュアル生成**:
    - 楽曲全体のビジュアルストーリーボードをAIに作成させる。
    - 3つの異なるアートスタイルを生成させ、1つを選択。
    - 選択したスタイルに基づき、各セクションのAIイメージを生成。

**🎵 思考の速度で、音楽と物語を創造する 🎵**
